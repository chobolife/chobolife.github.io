<!doctype html> <!-- Minimal Mistakes Jekyll Theme 4.16.5 by Michael Rose Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes Free for personal and commercial use under the MIT license https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE --><html lang="ko" class="no-js"><meta charset="utf-8"><title>Google Analytics 설치하기 - 우당탕탕 초보라이프</title><meta name="description" content="#방문자를분석해보자 #근데방문자가없잖아"><meta property="og:type" content="article"><meta property="og:locale" content="ko"><meta property="og:site_name" content="우당탕탕 초보라이프"><meta property="og:title" content="Google Analytics 설치하기"><meta property="og:url" content="https://chobolife.github.io/blog/2020/02/11/google-analytics/"><meta property="og:description" content="#방문자를분석해보자 #근데방문자가없잖아"><meta property="og:image" content="https://chobolife.github.io/assets/images/computer-1209641_1920.jpg"><meta property="article:published_time" content="2020-02-11T20:02:00+09:00"><link rel="canonical" href="https://chobolife.github.io/blog/2020/02/11/google-analytics/"> <script type="application/ld+json"> { "@context": "https://schema.org", "@type": "Person", "name": "chobolife", "url": "https://chobolife.github.io", "sameAs": null } </script><link href="/feed.xml" type="application/atom+xml" rel="alternate" title="우당탕탕 초보라이프 Feed"><meta name="viewport" content="width=device-width, initial-scale=1.0"> <script> document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js '; </script><link rel="stylesheet" href="/assets/css/main.css"> <!--[if IE ]><style> /* old IE unsupported flexbox fixes */ .greedy-nav .site-title { padding-right: 3em; } .greedy-nav button { position: absolute; top: 0; right: 0; height: 100%; }</style><![endif]--> <script data-ad-client="ca-pub-7585718164275867" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><body class="layout--single"><nav class="skip-links"><h2 class="screen-reader-text">Skip links</h2><ul><li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a><li><a href="#main" class="screen-reader-shortcut">Skip to content</a><li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></ul></nav><!--[if lt IE 9]><div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]--><div class="masthead"><div class="masthead__inner-wrap"><div class="masthead__menu"><nav id="site-nav" class="greedy-nav"> <a class="site-title" href="/"> 우당탕탕 초보라이프 </a><ul class="visible-links"><li class="masthead__menu-item"> <a href="/tags/" >Tag</a><li class="masthead__menu-item"> <a href="/about/" >About</a></ul><button class="greedy-nav__toggle hidden" type="button"> <span class="visually-hidden">열기</span><div class="navicon"></div></button><ul class="hidden-links hidden"></ul></nav></div></div></div><div class="initial-content"><div class="page__hero--overlay" style=" background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('/assets/images/computer-1209641_1920.jpg');" ><div class="wrapper"><h1 id="page-title" class="page__title" itemprop="headline"> Google Analytics 설치하기</h1><p class="page__lead">#방문자를분석해보자 #근데방문자가없잖아</p></div></div><div id="main" role="main"><div class="sidebar sticky"><nav class="nav__list"><h3 class="nav__title" style="padding-left: 0;">Category</h3><input id="ac-toc" name="accordion-toc" type="checkbox" /> <label for="ac-toc">열기</label><ul class="nav__items"><li> <a href="/category/%EB%B8%94%EB%A1%9C%EA%B7%B8"><span class="nav__sub-title">블로그</span></a><li> <a href="/category/%EC%88%98%EC%98%81"><span class="nav__sub-title">수영</span></a><li> <a href="/category/%EB%B6%84%EB%8B%B9%EC%98%AC%EB%A6%BC%ED%94%BD%EC%8A%A4%ED%8F%AC%EC%B8%A0%EC%84%BC%ED%84%B0"><span class="nav__sub-title">분당올림픽스포츠센터</span></a><li> <a href="/category/%EC%9D%BC%EC%83%81"><span class="nav__sub-title">일상</span></a></ul></nav></div><article class="page" itemscope itemtype="https://schema.org/CreativeWork"><meta itemprop="headline" content="Google Analytics 설치하기"><meta itemprop="description" content="#방문자를분석해보자 #근데방문자가없잖아"><meta itemprop="datePublished" content="February 11, 2020"><div class="page__inner-wrap"><section class="page__content" itemprop="text"><aside class="sidebar__right sticky coupang_small"> <script src="https://ads-partners.coupang.com/g.js"></script> <script style="display:none"> new PartnersCoupang.G({ id:134909 }); </script></aside><aside class="sidebar__right sticky coupang_large"> <script src="https://ads-partners.coupang.com/g.js"></script> <script style="display:none"> new PartnersCoupang.G({ id:134818 }); </script></aside><p><a href="https://marketingplatform.google.com/intl/ko/about/analytics/">구글 애널리틱스(Google Analytics)</a>를 블로그에 달았다.</p><p>조금 오래 전에 달긴 했지만 이제서야 관련 내용을 포스팅한다. 사실 그 동안에는 애초에 블로그에 유입되는 트래픽도 거의 없었기 때문에 애널리틱스를 달기만 하고 제대로 관찰한 적도 없었다. 지금은 1주일동안 30~50 정도의 방문자가 있기 때문에 그래도 애널리틱스에 들어가 보는 재미가 조금은 생겼다.</p><h2 id="구글-애널리틱스ga가-뭐지">구글 애널리틱스(GA)가 뭐지?</h2><p>나는 이전에 블로그나 웹사이트 운영 경험이 없고 구글 애널리틱스를 이용해 본 적도 없다. 사이트 운영에 도움이 될 통계를 제공해 준다고는 들었는데 그게 얼마나 자세한 자료인지, 얼마나 보기 좋게 제공해 주는지는 이 블로그에 달기 전까지는 몰랐다.</p><p>구글 애널리틱스에서 제공하는 통계는 워낙 다양해서 나도 아직 정확히 어떤 것이 있는지 모른다. 어떻게 활용해야 할지는 더더욱 모르겠고 말이다. 일단 아래와 같은 5가지 종류의 보고서가 있고, 각 보고서마다 많은 하위 메뉴가 있다.</p><ol><li>실시간<li>잠재고객<li>획득<li>행동<li>전환</ol><p>위 내용은 2020년 2월 현재 기준으로, 앞으로 더 많은 보고서가 추가될 수도, 활용도가 떨어지는 보고서는 사라질 수도 있다.</p><p>그 중에 내가 종종 보고 참고하는 자료들은 <strong>획득</strong>과 <strong>행동</strong>이다. 우선 첫 번째 항목인 <strong>실시간</strong>은 방문자가 많은 사이트라면 모를까, 블로그 수준에서는 볼 이유가 없다. 그리고 <strong>잠재고객</strong>과 <strong>전환</strong>은 사업을 목적으로 운영하는 사이트(ex. 쇼핑몰)에서는 활용 가치가 높겠지만 개인 블로그에서는 이 항목들 역시 볼 필요가 없어 보인다.</p><p><strong>획득</strong> 항목에서는 이 사이트에 어떻게 사용자가 들어왔는지 보여준다. 예를 들면 검색에 의해서인지, 직접 주소 입력을 통해서인지, SNS를 통해서인지 등이다.</p><figure> <img src="https://drive.google.com/uc?id=1VVT6JTkSz3p1ZDIqHFqRSDf11Lijz90c" alt="" title="" style="border:1px solid #ccc0bd; " /><figcaption></figcaption></figure><p>Direct는 원소스 없이 사이트에 바로 들어온 트래픽을 의미한다. 직접 도메인 주소를 입력했거나 웹브라우저의 즐겨찾기를 통해서 들어오는 것 등이 있을 것이다. 현재 내 블로그는 SEO도 적용하지 않고 있고 특별히 홍보를 하고 있는 것은 아니므로 Direct 접근은 전적으로 내가 만들어 낸 트래픽이다. 최근에 블로그에 광고도 넣고 contact form도 넣으면서 확인하기 위해 들어왔던 트래픽이 잡힌 것이다. Direct를 제외한 블로그의 순수 방문자는 Organic Search와 Referral로 접근한 것인데 Organic Search에 해당하는 것은 아직 구글 검색밖에는 없다. 구글 봇은 이 블로그를 자동으로 인덱싱했지만, 네이버와 다음에서는 아직 이 블로그가 검색되지 않기 때문이다. 아쉬운 것은 이 경우에 어떤 검색어를 통해서 유입된 것인지 알면 좋겠는데 그런 기능은 없는 것 같다. 아니면 있는데 블로그 방문자가 적어서 잡히지 않는 것일 수도 있다. 그리고 Referral은 <a href="https://place.map.kakao.com/10946071" target="_blank">카카오맵에 등록된 장소</a>인 분당올림픽스포츠센터에 내 리뷰를 등록한 적이 있는데 그것을 통한 접근인 것 같다. <strong>획득</strong> 항목의 보고서로 간단하게나마 이 정도의 내용을 분석할 수 있다. 블로그 방문자가 늘어나면 더 깊은 분석도 가능할 것이다.</p><p>그리고 내가 많이 보는 것은 <strong>행동</strong> 보고서이다. <strong>행동</strong>은 말 그대로 사이트에 들어온 사람이 어떤 행동들을 하는지에 관한 것이다. <strong>행동-&gt;개요</strong>에서는 전체 페이지뷰 수를 알 수 있도록 아래와 같이 통계를 제공한다.</p><figure> <img src="https://drive.google.com/uc?id=10kKGnD7vfSdTxUrslQC12re6l4iK2E5a" alt="" title="" style="border:1px solid #ccc0bd; " /><figcaption></figcaption></figure><p>블로그에 광고를 게재하는 것과 about 페이지에 contact form을 넣는 것 때문에 도메인 루트와 about 페이지에 많은 페이지뷰가 있는 것이 보인다.</p><p><strong>행동-&gt;사이트 콘텐츠-&gt;방문 페이지</strong>에서는 사이트에 처음 유입된 이용자가 어떤 페이지를 통해서 들어왔는지를 보여준다.</p><figure> <img src="https://drive.google.com/uc?id=1oO_d2fmo5qCYXFWys97DJPi7h5WdFqsi" alt="" title="" style="border:1px solid #ccc0bd; " /><figcaption></figcaption></figure><p><strong>행동-&gt;사이트 콘텐츠-&gt;종료 페이지</strong>에서는 사이트의 서핑을 마치고 종료한 이용자가 마지막으로 어떤 페이지에서 나갔는지를 보여준다.</p><figure> <img src="https://drive.google.com/uc?id=1AaSud-LEdcYtieZqIRCeErPEmU4W3KMT" alt="" title="" style="border:1px solid #ccc0bd; " /><figcaption></figcaption></figure><p>제일 재미있는 것은 <strong>행동-&gt;행동 흐름</strong>이다. 블로그에 방문한 사람들이 어떤 흐름으로 탐색하는지 한 눈에 알 수 있다.</p><figure> <img src="https://drive.google.com/uc?id=17py2T5E-FwLMdCliiKeDqKoB2jbGnKUg" alt="" title="" style="border:1px solid #ccc0bd; " /><figcaption></figcaption></figure><p>캡쳐 화면에는 두 번째 상호작용까지밖에 담지 못했지만 세 번째 상호작용까지 있다. 사이트가 더 커서 그 이상 상호작용이 있다면 더 담을 수 있을지 모르겠다.</p><p>내가 구글 애널리틱스를 잘 몰라서 활용을 못 하고 있기는 하지만 그래도 꽤 많은 정보를 알 수 있다. 100%는 고사하고 한 20%정도나 볼 줄 알려나? 구글 애널리틱스는 소규모 개인 블로그인 이 블로그에도 어느 정도 도움이 된다. 그러니 이용자가 많은 사이트, 쇼핑몰, 수익형 블로그 등에서는 더더욱 좋은 자료가 될 것이고, 구글 애널리틱스를 꼭 설치하고 활용해야 한다고 생각한다.</p><h2 id="구글-애널리틱스-설치하기">구글 애널리틱스 설치하기</h2><p>구글 애널리틱스는 구글 계정만 있으면 일단 시작할 수 있다. 물론 애널리틱스를 설치할 웹사이트는 당연히 있어야 한다.</p><p>일단 <a href="https://marketingplatform.google.com/intl/ko/about/analytics/" target="_blank">구글 애널리틱스</a> 사이트에 들어가서 구글 계정으로 로그인한 후 가입한다. 그러면 사이트에 대한 추적 정보를 얻을 수 있다. 추적 정보는 사이트의 각종 정보 수집을 위한 코드이다. 이 추적 정보를 통해 사이트 방문, 행동 등에 관한 정보를 구글 애널리틱스 서버가 수집할 수 있는 것이다.</p><figure> <img src="https://drive.google.com/uc?id=1gGvA3N5u5lh0cmnBIuzw_RRe6oxTZoZs" alt="" title="" style="border:1px solid #ccc0bd; " /><figcaption></figcaption></figure><p>저 코드를 사이트 내에 있는 모든 페이지의 <code class="highlighter-rouge">&lt;head&gt;</code>와 <code class="highlighter-rouge">&lt;/head&gt;</code> 사이에 넣어야 한다. 티스토리, 워드프레스를 비롯한 대부분의 블로그 플랫폼에서 head 커스터마이징을 제공할 것이다. 그 방법에 따라서 하면 쉽고 편하게 할 수 있다. 단, 폐쇄적인 정책으로 운영되고 있는 네이버에서는 가능한지 모르겠다.</p><h2 id="jekyll에서-구글-애널리틱스-설치하기">Jekyll에서 구글 애널리틱스 설치하기</h2><p>Jekyll에서는 모든 페이지가 참조하는 default layout에 삽입하면 된다. 그것은 layout 파일 자체에 넣어도 되고, 애널리틱스 추적 코드만 담은 파일을 만들어서 include시켜도 된다. 그런데 현재 이용 중인 Minimal mistakes 테마에서 analytics 기능을 제공하고 있었기 때문에, 간단히 정보만 입력하면 쉽게 가능했다.</p><p><code class="highlighter-rouge">_config.yml</code> 파일을 열어 보면 아래와 같은 부분이 있다.</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Analytics
analytics:
  provider       : false # false (default), "google", "google-universal", "custom"
  google:
    tracking_id  :
    anonymize_ip : # true, false (default)
</code></pre></div></div><p>위 부분에서 <code class="highlighter-rouge">provider</code>와 <code class="highlighter-rouge">tracking_id</code>를 수정해 주면 된다. <code class="highlighter-rouge">provider</code>에는 “google”을, <code class="highlighter-rouge">tracking_id</code>에는 구글에서 제공한 추적 ID를 입력한다. 그러면 아래와 같이 될 것이다.</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Analytics
analytics:
  provider       : "google"
  google:
    tracking_id  : "UA-*********-*"
    anonymize_ip : # true, false (default)
</code></pre></div></div><p>추적 ID는 UA로 시작하고 뒷부분은 숫자인데, 정보는 *로 마스킹한 것이다.</p><p>저 부분을 수정하면 <code class="highlighter-rouge">_includes/analytics.html</code> 에 있는 아래 부분에 반영된다.</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{% if jekyll.environment == 'production' and site.analytics.provider and page.analytics != false %}

{% case site.analytics.provider %}
{% when "google" %}
  {% include /analytics-providers/google.html %}
{% when "google-universal" %}
  {% include /analytics-providers/google-universal.html %}
{% when "google-gtag" %}
  {% include /analytics-providers/google-gtag.html %}
{% when "custom" %}
  {% include /analytics-providers/custom.html %}
{% endcase %}

{% endif %}
</code></pre></div></div><p><code class="highlighter-rouge">provider</code>를 <code class="highlighter-rouge">"google"</code>이라고 입력하였으므로 <code class="highlighter-rouge">when</code> 분기 중에서 가장 첫 번째에 있는 코드만 실행될 것이다. 그래서 <code class="highlighter-rouge">/analytics-providers/google.html</code> 파일이 저 자리에 include될 것이다. 저 파일을 열어서 내용을 확인해 보지는 않았지만, 아마 구글 애널리틱스의 스크립트를 불러오는 뻔한 코드가 있지 않을까?</p><p>단, 저 코드가 실행되기 위해서는 맨 위의 <code class="highlighter-rouge">jekyll.environment == 'production'</code>을 만족시켜야 한다. Jekyll build를 실행할 때 아래와 같이 production mode로 하면 위 코드가 실행된다.</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>JEKYLL_ENV=production jekyll build
</code></pre></div></div><p>Production mode가 아니면 위 부분은 실행되지 않는다. 현재는 production mode를 적용하는 부분은 analytics밖에 없다. 간단한 수정이나 레이아웃, 디자인 변경 등을 한 후 공개하기 전 버전을 확인하고자 하는 경우에는 production mode를 끄고 아래와 같이 build한다.</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jekyll build
</code></pre></div></div><p>이렇게 build한 후에 <code class="highlighter-rouge">git push</code>를 수행하면 그대로 공개가 되므로, 위와 같이 build한 후에는 자체적으로만 확인해야 한다.</p><p>자 그럼 이렇게 구글 애널리틱스도 설치했으니 이제 방문자만 많아지면 되겠다.</p><p>응?</p><div class="tenor-gif-embed" data-postid="5036980" data-share-method="host" data-width="100%" data-aspect-ratio="1.5151515151515151"><a href="https://tenor.com/view/ponder-pondering-hmm-tapping-wondering-gif-5036980">Ponder Pondering GIF</a> from <a href="https://tenor.com/search/ponder-gifs">Ponder GIFs</a></div><script type="text/javascript" async="" src="https://tenor.com/embed.js"></script><div class="notice--primary"><h4 id="관련-포스트">관련 포스트</h4><ul><li><a href="/blog/2019/07/27/start-jekyll-2/">나의 Jekyll 여행기 (2)</a><li><a href="/blog/2019/07/28/jekyll-github/">Jekyll로 만든 사이트를 github에 올리기</a><li><a href="/blog/2019/08/16/jekyll-disqus/">Jekyll에 disqus 연동하기</a><li><a href="/blog/2019/10/05/map-in-blog/">웹페이지에 지도 삽입하기</a><li><a href="/blog/2019/07/31/jekyll-image/">Jekyll post에 이미지 첨부하기</a></ul></div></section><footer class="page__meta"><p class="page__taxonomy"> <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> 태그: </strong> <span itemprop="keywords"> <a href="/tags/#jekyll" class="page__taxonomy-item" rel="tag">jekyll</a><span class="sep">, </span> <a href="/tags/#%EA%B5%AC%EA%B8%80-%EC%95%A0%EB%84%90%EB%A6%AC%ED%8B%B1%EC%8A%A4" class="page__taxonomy-item" rel="tag">구글 애널리틱스</a><span class="sep">, </span> <a href="/tags/#%EB%B8%94%EB%A1%9C%EA%B7%B8" class="page__taxonomy-item" rel="tag">블로그</a> </span></p><p class="page__taxonomy"> <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> 카테고리: </strong> <span itemprop="keywords"> <a href="/category/%EB%B8%94%EB%A1%9C%EA%B7%B8" class="page__taxonomy-item" rel="tag">블로그</a> </span></p><p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> 업데이트:</strong> <time datetime="2020-02-11T20:02:00+09:00">February 11, 2020</time></p></footer></div><div class="page__comments"><h4 class="page__comments-title">댓글남기기</h4><section id="disqus_thread"></section></div></article></div></div><div id="footer" class="page__footer"><footer><div class="page__footer-copyright">&copy; 2020 chobolife. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div></footer></div><script src="/assets/js/main.min.js"></script> <script src="https://kit.fontawesome.com/4eee35f757.js"></script> <script> var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-141049037-4']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script> <script> var disqus_config = function () { this.page.url = "https://chobolife.github.io/blog/2020/02/11/google-analytics/"; this.page.identifier = "/blog/2020/02/11/google-analytics"; }; (function() { var d = document, s = d.createElement('script'); s.src = 'https://chobolife.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
